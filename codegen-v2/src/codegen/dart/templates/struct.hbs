// SPDX-License-Identifier: Apache-2.0
//
// Copyright Â© 2017 Trust Wallet.
//
// This is a GENERATED FILE, changes made here WILL BE LOST.
//

import 'dart:ffi';
import 'dart:typed_data';

import 'package:trust_wallet_core/src/gen/ffi/generated_bindings.dart';
{{#if imports}}
{{#each imports}}
{{{this}}}
{{/each}}
{{/if}}

final class {{#unless is_public}}_{{/unless}}{{name}} {{~#if superclasses}} implements {{#each superclasses}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}{{/if}} {
    final TrustWalletCore _core;
{{#if init_instance}}
    final {{{raw_type}}} _pointer;

    {{{raw_type}}} get pointer => _pointer;

    const {{name}}(TrustWalletCore core, {{{raw_type}}} pointer)
        : _core = core, _pointer = pointer;
{{else}}

    const {{name}}(TrustWalletCore core): _core = core;
{{/if}}

{{! Equality operator, if available }}
{{#if eq_operator}}
    @override
    bool operator == (Object other) => switch(other) {
        {{name}} obj => _core.{{eq_operator.c_ffi_name}}(_pointer, obj.pointer),
        _ => false,
    };

    @override
    int get hashCode => _pointer.hashCode;

{{/if}}
{{! Inits }}
{{#each inits}}
    {{#if has_finally}}
    {{~> partial_init_finally}}
    {{else}}
    {{~> partial_init}}
    {{/if}}

{{/each}}
{{! Deinits }}
{{#if deinits}}
    @override
    dispose() {
    {{#each deinits}}
        _core.{{name}}(pointer)
    {{/each}}
    }

{{/if}}
{{! Methods }}
{{#each methods}}
    {{#if has_finally}}
    {{~> partial_func_finally}}
    {{else}}
    {{~> partial_func}}
    {{/if}}

{{/each}}
{{! Properties }}
{{#each properties}}
    {{~> partial_prop}}
    {{#unless @last}}

    {{/unless}}
{{/each}}
}
